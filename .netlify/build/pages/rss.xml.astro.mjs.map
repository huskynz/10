{"version":3,"file":"rss.xml.astro.mjs","sources":["../../../src/pages/rss.xml.ts"],"sourcesContent":["import rss from \"@astrojs/rss\"\r\nimport { getCollection } from \"astro:content\"\r\nimport { SITE } from \"@consts\"\r\n\r\ntype Context = {\r\n  site: string\r\n}\r\n\r\nexport async function GET(context: Context) {\r\n\tconst posts = await getCollection(\"blog\")\r\n  const projects = await getCollection(\"projects\")\r\n\r\n  const items = [...posts, ...projects]\r\n\r\n  items.sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime())\r\n\r\n  return rss({\r\n    title: SITE.TITLE,\r\n    description: SITE.DESCRIPTION,\r\n    site: context.site,\r\n    items: items.map((item) => ({\r\n      title: item.data.title,\r\n      description: item.data.summary,\r\n      pubDate: item.data.date,\r\n      link: item.slug.startsWith(\"blog\")\r\n        ? `/blog/${item.slug}/`\r\n        : `/projects/${item.slug}/`,\r\n    })),\r\n  })\r\n}\r\n"],"names":[],"mappings":";;;;;AAQA,KAAsB,CAAA,QAAA,CAAA,IAAI,OAAkB,CAAA,CAAA,CAAA;AAC3C,CAAM,CAAA,KAAA,CAAA,KAAA,CAAQ,CAAA,CAAA,KAAA,CAAM,aAAA,CAAc,CAAA,IAAA,CAAM,CAAA,CAAA;AACvC,CAAM,CAAA,KAAA,CAAA,QAAA,CAAW,CAAA,CAAA,KAAA,CAAM,aAAA,CAAc,CAAA,QAAA,CAAU,CAAA,CAAA;AAE/C,CAAA,CAAA,KAAA,CAAM,KAAQ,CAAA,CAAA,CAAA,CAAC,CAAA,CAAA,CAAG,KAAA,CAAO,CAAA,CAAA,CAAA,CAAG,QAAQ,CAAA,CAAA;AAEpC,CAAA,CAAA,KAAA,CAAM,KAAK,CAAC,CAAA,CAAA,CAAG,MAAM,IAAI,IAAA,CAAK,EAAE,IAAK,CAAA,IAAI,EAAE,OAAQ,CAAA,CAAA,CAAA,CAAA,CAAI,GAAI,CAAA,IAAK,CAAA,CAAA,CAAE,KAAK,IAAI,CAAA,CAAE,SAAS,CAAA,CAAA;AAEtF,CAAA,CAAA,MAAA,CAAO,GAAI,CAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CACT,OAAO,IAAK,CAAA,KAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CACZ,aAAa,IAAK,CAAA,WAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAClB,MAAM,OAAQ,CAAA,IAAA,CAAA;AAAA,CACd,CAAA,CAAA,CAAA,KAAO,EAAA,KAAA,CAAM,GAAI,CAAA,CAAC,IAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAC1B,KAAA,CAAO,CAAA,KAAK,IAAK,CAAA,KAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACjB,WAAA,CAAa,CAAA,KAAK,IAAK,CAAA,OAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACvB,OAAA,CAAS,CAAA,KAAK,IAAK,CAAA,IAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACnB,IAAM,CAAA,CAAA,IAAA,CAAK,IAAK,CAAA,UAAA,CAAW,CAAM,IAAA,CAAA,CAAA,CAC7B,CAAA,CAAA,CAAS,CAAA,IAAA,CAAA,CAAA,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA,CAAA,CAClB,CAAA,CAAA,CAAa,CAAA,QAAA,CAAA,CAAA,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA,CAAA;AAAA,CAAA,CAAA,CAAA,CAAA,CAC1B,CAAA,CAAA;AAAA,CAAA,CAAA,CACH,CAAA,CAAA;AACH,CAAA;;;;;;;;;"}